import{b as u,q as r,V as We,d as Fe,C as Re,D as Ve,z as $e,k as Ot,o as wt,h as et,f as tt,j as It,p as zt,P as Te,M as at,J as At,Y as Et,t as Pt,Q as Be,a as Ct,Z as nt,c as Tt,$ as Bt,W as Kt,B as Dt,u as _t,x as ye,F as Wt,G as X,A as Ft,e as Rt,y as se,l as Vt,g as rt,i as $t,m as me,n as Lt,K as te,r as le,s as ae,E as oe,v as it,w as lt,H as Gt,I as Nt,L as Le,S as ot,N as Yt,O as st,R as ct,T as qt,U as Ht,X as Ge,_ as Jt,a0 as Ne,a1 as Ke,a2 as Zt,a3 as Qt,a4 as Xt,a5 as ze,a6 as Ut,a7 as ea,a8 as ta,a9 as Q,aa,ab as na,ac as ke,ad as ra,ae as ia,af as Ye,ag as la,ah as Ae,ai as oa,aj as sa,ak as qe}from"./index-kQhqao1P.js";var ut=e=>null;ut.displayName="Cell";var dt=(e,t,a)=>{var n=Ke();return(i,l)=>o=>{e?.(i,l,o),n(Zt({activeIndex:String(l),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:a}))}},ft=e=>{var t=Ke();return(a,n)=>i=>{e?.(a,n,i),t(Qt())}},ht=(e,t,a)=>{var n=Ke();return(i,l)=>o=>{e?.(i,l,o),n(Xt({activeIndex:String(l),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:a}))}},He=(e,t,a)=>{var n=a??e;if(!ke(n))return Ae(n,t,0)},ca=(e,t,a)=>{var n={},i=e.filter(la),l=e.filter(f=>f.stackId==null),o=i.reduce((f,h)=>{var p=f[h.stackId];return p==null&&(p=[]),p.push(h),f[h.stackId]=p,f},n),s=Object.entries(o).map(f=>{var h,[p,g]=f,j=g.map(S=>S.dataKey),M=He(t,a,(h=g[0])===null||h===void 0?void 0:h.barSize);return{stackId:p,dataKeys:j,barSize:M}}),d=l.map(f=>{var h=[f.dataKey].filter(g=>g!=null),p=He(t,a,f.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...s,...d]};function Je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,n)}return a}function ve(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Je(Object(a),!0).forEach(function(n){ua(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Je(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function ua(e,t,a){return(t=da(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function da(e){var t=fa(e,"string");return typeof t=="symbol"?t:t+""}function fa(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ha(e,t,a,n,i){var l,o=n.length;if(!(o<1)){var s=Ae(e,a,0,!0),d,f=[];if(ze((l=n[0])===null||l===void 0?void 0:l.barSize)){var h=!1,p=a/o,g=n.reduce((x,E)=>x+(E.barSize||0),0);g+=(o-1)*s,g>=a&&(g-=(o-1)*s,s=0),g>=a&&p>0&&(h=!0,p*=.9,g=o*p);var j=(a-g)/2>>0,M={offset:j-s,size:0};d=n.reduce((x,E)=>{var O,b={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:M.offset+M.size+s,size:h?p:(O=E.barSize)!==null&&O!==void 0?O:0}},v=[...x,b];return M=b.position,v},f)}else{var S=Ae(t,a,0,!0);a-2*S-(o-1)*s<=0&&(s=0);var y=(a-2*S-(o-1)*s)/o;y>1&&(y>>=0);var m=ze(i)?Math.min(y,i):y;d=n.reduce((x,E,O)=>[...x,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:S+(y+s)*O+(y-m)/2,size:m}}],f)}return d}}var pa=(e,t,a,n,i,l,o)=>{var s=ke(o)?t:o,d=ha(a,n,i!==l?i:l,e,s);return i!==l&&d!=null&&(d=d.map(f=>ve(ve({},f),{},{position:ve(ve({},f.position),{},{offset:f.position.offset-i/2})}))),d},ga=(e,t)=>{var a=Jt(t);if(!(!e||a==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:l}=i;if(l)return l.find(o=>o.key===a)}}}},xa=(e,t)=>{if(!(e==null||t==null)){var a=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(a!=null)return a.position}};function va(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ze(e.zIndex)?e.zIndex:t}var ya="Invariant failed";function ma(e,t){throw new Error(ya)}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ee.apply(null,arguments)}function be(e){return u.createElement(Ut,Ee({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var ba=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,n)=>{if(Ne(e))return e;var i=Ne(a)||ke(a);return i?e(a,n):(i||ma(),t)}},ja=(e,t,a)=>a,ka=(e,t)=>t,de=X([lt,ka],(e,t)=>e.filter(a=>a.type==="bar").find(a=>a.id===t)),Sa=X([de],e=>e?.maxBarSize),Ma=(e,t,a,n)=>n,Oa=X([se,lt,te,ae,ja],(e,t,a,n,i)=>t.filter(l=>e==="horizontal"?l.xAxisId===a:l.yAxisId===n).filter(l=>l.isPanorama===i).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),wa=(e,t,a)=>{var n=se(e),i=te(e,t),l=ae(e,t);if(!(i==null||l==null))return n==="horizontal"?Ge(e,"yAxis",l,a):Ge(e,"xAxis",i,a)},Ia=(e,t)=>{var a=se(e),n=te(e,t),i=ae(e,t);if(!(n==null||i==null))return a==="horizontal"?Ye(e,"xAxis",n):Ye(e,"yAxis",i)},za=X([Oa,na,Ia],ca),Aa=(e,t,a)=>{var n,i,l=de(e,t);if(l==null)return 0;var o=te(e,t),s=ae(e,t);if(o==null||s==null)return 0;var d=se(e),f=ct(e),{maxBarSize:h}=l,p=ke(h)?f:h,g,j;return d==="horizontal"?(g=le(e,"xAxis",o,a),j=oe(e,"xAxis",o,a)):(g=le(e,"yAxis",s,a),j=oe(e,"yAxis",s,a)),(n=(i=it(g,j,!0))!==null&&i!==void 0?i:p)!==null&&n!==void 0?n:0},pt=(e,t,a)=>{var n=se(e),i=te(e,t),l=ae(e,t);if(!(i==null||l==null)){var o,s;return n==="horizontal"?(o=le(e,"xAxis",i,a),s=oe(e,"xAxis",i,a)):(o=le(e,"yAxis",l,a),s=oe(e,"yAxis",l,a)),it(o,s)}},Ea=X([za,ct,qt,Ht,Aa,pt,Sa],pa),Pa=(e,t,a)=>{var n=te(e,t);if(n!=null)return le(e,"xAxis",n,a)},Ca=(e,t,a)=>{var n=ae(e,t);if(n!=null)return le(e,"yAxis",n,a)},Ta=(e,t,a)=>{var n=te(e,t);if(n!=null)return oe(e,"xAxis",n,a)},Ba=(e,t,a)=>{var n=ae(e,t);if(n!=null)return oe(e,"yAxis",n,a)},Ka=X([Ea,de],xa),Da=X([wa,de],ga),_a=X([Ft,Rt,Pa,Ca,Ta,Ba,Ka,se,Vt,pt,Da,de,Ma],(e,t,a,n,i,l,o,s,d,f,h,p,g)=>{var{chartData:j,dataStartIndex:M,dataEndIndex:S}=d;if(!(p==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||a==null||n==null||i==null||l==null||f==null)){var{data:y}=p,m;if(y!=null&&y.length>0?m=y:m=j?.slice(M,S+1),m!=null)return fn({layout:s,barSettings:p,pos:o,parentViewBox:t,bandSize:f,xAxis:a,yAxis:n,xAxisTicks:i,yAxisTicks:l,stackedData:h,displayedData:m,offset:e,cells:g,dataStartIndex:M})}}),Wa=["index"];function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Pe.apply(null,arguments)}function Fa(e,t){if(e==null)return{};var a,n,i=Ra(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function Ra(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var gt=u.createContext(void 0),Va=e=>{var t=u.useContext(gt);if(t!=null)return t.stackId;if(e!=null)return Ct(e)},$a=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),La=e=>{var t=u.useContext(gt);if(t!=null){var{stackId:a}=t;return"url(#".concat($a(a,e),")")}},xt=e=>{var{index:t}=e,a=Fa(e,Wa),n=La(t);return u.createElement(me,Pe({className:"recharts-bar-stack-layer",clipPath:n},a))},Ga=["onMouseEnter","onMouseLeave","onClick"],Na=["value","background","tooltipPosition"],Ya=["id"],qa=["onMouseEnter","onClick","onMouseLeave"];function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},q.apply(null,arguments)}function Ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ze(Object(a),!0).forEach(function(n){Ha(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ze(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Ha(e,t,a){return(t=Ja(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ja(e){var t=Za(e,"string");return typeof t=="symbol"?t:t+""}function Za(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function je(e,t){if(e==null)return{};var a,n,i=Qa(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function Qa(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var Xa=e=>{var{dataKey:t,name:a,fill:n,legendType:i,hide:l}=e;return[{inactive:l,dataKey:t,type:i,color:n,value:nt(a,t),payload:e}]},Ua=u.memo(e=>{var{dataKey:t,stroke:a,strokeWidth:n,fill:i,name:l,hide:o,unit:s,tooltipType:d,id:f}=e,h={dataDefinedOnItem:void 0,getPosition:Bt,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:nt(l,t),hide:o,type:d,color:i,unit:s,graphicalItemId:f}};return u.createElement(Tt,{tooltipEntrySettings:h})});function en(e){var t=ye(ot),{data:a,dataKey:n,background:i,allOtherBarProps:l}=e,{onMouseEnter:o,onMouseLeave:s,onClick:d}=l,f=je(l,Ga),h=dt(o,n,l.id),p=ft(s),g=ht(d,n,l.id);if(!i||a==null)return null;var j=Yt(i);return u.createElement(Be,{zIndex:va(i,Te.barBackground)},a.map((M,S)=>{var{value:y,background:m,tooltipPosition:x}=M,E=je(M,Na);if(!m)return null;var O=h(M,S),b=p(M,S),v=g(M,S),I=B(B(B(B(B({option:i,isActive:String(S)===t},E),{},{fill:"#eee"},m),j),st(f,M,S)),{},{onMouseEnter:O,onMouseLeave:b,onClick:v,dataKey:n,index:S,className:"recharts-bar-background-rectangle"});return u.createElement(be,q({key:"background-bar-".concat(S)},I))}))}function tn(e){var{showLabels:t,children:a,rects:n}=e,i=n?.map(l=>{var o={x:l.x,y:l.y,width:l.width,lowerWidth:l.width,upperWidth:l.width,height:l.height};return B(B({},o),{},{value:l.value,payload:l.payload,parentViewBox:l.parentViewBox,viewBox:o,fill:l.fill})});return u.createElement(ra,{value:t?i:void 0},a)}function an(e){var{shape:t,activeBar:a,baseProps:n,entry:i,index:l,dataKey:o}=e,s=ye(ot),d=ye(oa),f=a&&String(l)===s&&(d==null||o===d),h=f?a:t;return f?u.createElement(Be,{zIndex:Te.activeBar},u.createElement(xt,{index:l},u.createElement(be,q({},n,{name:String(n.name)},i,{isActive:f,option:h,index:l,dataKey:o})))):u.createElement(be,q({},n,{name:String(n.name)},i,{isActive:f,option:h,index:l,dataKey:o}))}function nn(e){var{shape:t,baseProps:a,entry:n,index:i,dataKey:l}=e;return u.createElement(be,q({},a,{name:String(a.name)},n,{isActive:!1,option:t,index:i,dataKey:l}))}function rn(e){var t,{data:a,props:n}=e,i=(t=ia(n))!==null&&t!==void 0?t:{},{id:l}=i,o=je(i,Ya),{shape:s,dataKey:d,activeBar:f}=n,{onMouseEnter:h,onClick:p,onMouseLeave:g}=n,j=je(n,qa),M=dt(h,d,l),S=ft(g),y=ht(p,d,l);return a?u.createElement(u.Fragment,null,a.map((m,x)=>u.createElement(xt,q({index:x,key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(x),className:"recharts-bar-rectangle"},st(j,m,x),{onMouseEnter:M(m,x),onMouseLeave:S(m,x),onClick:y(m,x)}),f?u.createElement(an,{shape:s,activeBar:f,baseProps:o,entry:m,index:x,dataKey:d}):u.createElement(nn,{shape:s,baseProps:o,entry:m,index:x,dataKey:d})))):null}function ln(e){var{props:t,previousRectanglesRef:a}=e,{data:n,layout:i,isAnimationActive:l,animationBegin:o,animationDuration:s,animationEasing:d,onAnimationEnd:f,onAnimationStart:h}=t,p=a.current,g=ea(t,"recharts-bar-"),[j,M]=u.useState(!1),S=!j,y=u.useCallback(()=>{typeof f=="function"&&f(),M(!1)},[f]),m=u.useCallback(()=>{typeof h=="function"&&h(),M(!0)},[h]);return u.createElement(tn,{showLabels:S,rects:n},u.createElement(ta,{animationId:g,begin:o,duration:s,isActive:l,easing:d,onAnimationEnd:y,onAnimationStart:m,key:g},x=>{var E=x===1?n:n?.map((O,b)=>{var v=p&&p[b];if(v)return B(B({},O),{},{x:Q(v.x,O.x,x),y:Q(v.y,O.y,x),width:Q(v.width,O.width,x),height:Q(v.height,O.height,x)});if(i==="horizontal"){var I=Q(0,O.height,x),z=Q(O.stackedBarStart,O.y,x);return B(B({},O),{},{y:z,height:I})}var k=Q(0,O.width,x),C=Q(O.stackedBarStart,O.x,x);return B(B({},O),{},{width:k,x:C})});return x>0&&(a.current=E??null),E==null?null:u.createElement(me,null,u.createElement(rn,{props:t,data:E}))}),u.createElement(aa,{label:t.label}),t.children)}function on(e){var t=u.useRef(null);return u.createElement(ln,{previousRectanglesRef:t,props:e})}var vt=0,sn=(e,t)=>{var a=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:a,errorVal:rt(e,t)}};class cn extends u.PureComponent{render(){var{hide:t,data:a,dataKey:n,className:i,xAxisId:l,yAxisId:o,needClip:s,background:d,id:f}=this.props;if(t||a==null)return null;var h=$t("recharts-bar",i),p=f;return u.createElement(me,{className:h,id:f},s&&u.createElement("defs",null,u.createElement(Lt,{clipPathId:p,xAxisId:l,yAxisId:o})),u.createElement(me,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(p,")"):void 0},u.createElement(en,{data:a,dataKey:n,background:d,allOtherBarProps:this.props}),u.createElement(on,this.props)))}}var un={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:vt,xAxisId:0,yAxisId:0,zIndex:Te.bar};function dn(e){var{xAxisId:t,yAxisId:a,hide:n,legendType:i,minPointSize:l,activeBar:o,animationBegin:s,animationDuration:d,animationEasing:f,isAnimationActive:h}=e,{needClip:p}=Kt(t,a),g=Dt(),j=at(),M=_t(e.children,ut),S=ye(x=>_a(x,e.id,j,M));if(g!=="vertical"&&g!=="horizontal")return null;var y,m=S?.[0];return m==null||m.height==null||m.width==null?y=0:y=g==="vertical"?m.height/2:m.width/2,u.createElement(Wt,{xAxisId:t,yAxisId:a,data:S,dataPointFormatter:sn,errorBarOffset:y},u.createElement(cn,q({},e,{layout:g,needClip:p,data:S,xAxisId:t,yAxisId:a,hide:n,legendType:i,minPointSize:l,activeBar:o,animationBegin:s,animationDuration:d,animationEasing:f,isAnimationActive:h})))}function fn(e){var{layout:t,barSettings:{dataKey:a,minPointSize:n},pos:i,bandSize:l,xAxis:o,yAxis:s,xAxisTicks:d,yAxisTicks:f,stackedData:h,displayedData:p,offset:g,cells:j,parentViewBox:M,dataStartIndex:S}=e,y=t==="horizontal"?s:o,m=h?y.scale.domain():null,x=Gt({numericAxis:y}),E=y.scale.map(x);return p.map((O,b)=>{var v,I,z,k,C,L;if(h){var R=h[b+S];if(R==null)return null;v=Nt(R,m)}else v=rt(O,a),Array.isArray(v)||(v=[x,v]);var K=ba(n,vt)(v[1],b);if(t==="horizontal"){var G,D=s.scale.map(v[0]),H=s.scale.map(v[1]);if(D==null||H==null)return null;I=Le({axis:o,ticks:d,bandSize:l,offset:i.offset,entry:O,index:b}),z=(G=H??D)!==null&&G!==void 0?G:void 0,k=i.size;var T=D-H;if(C=sa(T)?0:T,L={x:I,y:g.top,width:k,height:g.height},Math.abs(K)>0&&Math.abs(C)<Math.abs(K)){var P=qe(C||K)*(Math.abs(K)-Math.abs(C));z-=P,C+=P}}else{var J=o.scale.map(v[0]),W=o.scale.map(v[1]);if(J==null||W==null)return null;if(I=J,z=Le({axis:s,ticks:f,bandSize:l,offset:i.offset,entry:O,index:b}),k=W-J,C=i.size,L={x:g.left,y:z,width:g.width,height:C},Math.abs(K)>0&&Math.abs(k)<Math.abs(K)){var Z=qe(k||K)*(Math.abs(K)-Math.abs(k));k+=Z}}if(I==null||z==null||k==null||C==null)return null;var U=B(B({},O),{},{stackedBarStart:E,x:I,y:z,width:k,height:C,value:h?v:v[1],payload:O,background:L,tooltipPosition:{x:I+k/2,y:z+C/2},parentViewBox:M},j&&j[b]&&j[b].props);return U}).filter(Boolean)}function hn(e){var t=zt(e,un),a=Va(t.stackId),n=at();return u.createElement(At,{id:t.id,type:"bar"},i=>u.createElement(u.Fragment,null,u.createElement(Et,{legendPayload:Xa(t)}),u.createElement(Ua,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),u.createElement(Pt,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:a,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),u.createElement(Be,{zIndex:t.zIndex},u.createElement(dn,q({},t,{id:i})))))}var yt=u.memo(hn,It);yt.displayName="Bar";var pn=["axis"],gn=u.forwardRef((e,t)=>u.createElement(et,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pn,tooltipPayloadSearcher:tt,categoricalChartProps:e,ref:t})),xn=["axis","item"],vn=u.forwardRef((e,t)=>u.createElement(et,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xn,tooltipPayloadSearcher:tt,categoricalChartProps:e,ref:t})),yn=398600.4418,ce=6378.137,Qe=.00108263,mn=72921159e-12,ue={moscow_obl:{name:"–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª.",polygons:[[[35.14,56.85],[35.6,56.65],[36.1,56.55],[36.8,56.45],[37.3,56.55],[37.9,56.45],[38.4,56.35],[38.9,56.15],[39.5,55.95],[39.8,55.65],[39.9,55.35],[39.7,55.05],[39.5,54.85],[39.1,54.65],[38.6,54.55],[38,54.45],[37.3,54.35],[36.7,54.45],[36.1,54.65],[35.5,54.95],[35.2,55.35],[35,55.75],[35,56.25],[35.14,56.85]]]},spb:{name:"–°–ü–± –∏ –õ–û",polygons:[[[27.8,61.2],[28.5,61.1],[29.5,61.15],[30.5,61],[31.5,60.7],[32.5,60.4],[33.5,60.1],[34.5,59.8],[35,59.4],[34.5,59],[33.5,58.7],[32.5,58.5],[31.5,58.5],[30.5,58.6],[29.5,58.8],[28.5,59.2],[27.8,59.8],[27.8,61.2]]]},krasnodar:{name:"–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π",polygons:[[[36.6,46.7],[37.5,46.8],[38.5,46.4],[39.5,46],[40.5,45.5],[41,45],[41.5,44.5],[41,44],[40,43.7],[39,43.5],[38,43.8],[37,44.2],[36.5,44.8],[36.6,45.5],[36.6,46.7]]]},sverdlovsk:{name:"–°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª.",polygons:[[[57.2,61.8],[58.5,61.9],[60,61.7],[61.5,61.3],[63,60.8],[64.5,60.2],[65.5,59.5],[66,58.5],[65.5,57.5],[65,56.8],[64,56.3],[62.5,56.1],[61,56.2],[59.5,56.5],[58,57],[57.2,58],[57.2,59.5],[57.2,61.8]]]},novosibirsk:{name:"–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª.",polygons:[[[75.2,57],[76.5,57.1],[78,56.9],[80,56.5],[82,55.8],[84,55.2],[85,54.5],[84.5,53.8],[83,53.4],[81,53.5],[79,54],[77,54.5],[75.5,55.2],[75.2,56],[75.2,57]]]},yakutia:{name:"–Ø–∫—É—Ç–∏—è",polygons:[[[105.5,76.5],[110,76.8],[120,76.5],[130,75],[140,73],[150,71],[160,70],[163,68],[162,65],[158,62],[150,60],[145,58],[140,57],[135,56.5],[130,56],[125,56.5],[120,58],[115,60],[110,63],[107,66],[105.5,70],[105.5,76.5]]]},khmao:{name:"–•–ú–ê–û-–Æ–≥—Ä–∞",polygons:[[[59.5,63.8],[62,63.9],[65,63.5],[68,63],[72,62.5],[76,62],[80,61.5],[83,61],[85,60.2],[84,59],[82,58.5],[78,58.2],[74,58.3],[70,58.5],[66,59],[62,59.5],[59.5,60.5],[59.5,63.8]]]},yamalo:{name:"–Ø–ù–ê–û",polygons:[[[66,73.4],[70,73.5],[75,73],[80,72],[84,71],[87,70],[89,69],[88,67.5],[85,66],[80,65],[75,64.5],[70,64.5],[67,65],[66,66.5],[66,68],[67,70],[66,73.4]]]},murmansk:{name:"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª.",polygons:[[[28.4,69.9],[30,70],[32,69.8],[35,69.5],[38,69.2],[40,68.8],[41.4,68.2],[41,67.5],[39,67],[37,66.5],[35,66.2],[32,66.5],[30,67],[28.5,67.8],[28.4,69.9]]]},kamchatka:{name:"–ö–∞–º—á–∞—Ç–∫–∞",polygons:[[[155.5,64.5],[158,65],[162,64.5],[166,63],[170,61],[173,59],[174,57],[173,55],[170,53],[167,51.5],[163,51],[159,52],[156,54],[155.5,57],[156,60],[155.5,64.5]]]},crimea:{name:"–ö—Ä—ã–º",polygons:[[[32.5,46.1],[33.5,46.2],[34.5,46],[35.5,45.6],[36.5,45.2],[36.6,44.8],[36.2,44.4],[35.5,44.4],[34.5,44.6],[33.5,44.8],[32.8,45],[32.5,45.5],[32.5,46.1]]]},russia:{name:"–†–æ—Å—Å–∏—è",polygons:[[[27,70],[40,68],[50,67],[60,68],[70,73],[80,75],[90,76],[100,77],[110,77],[120,76],[130,73],[140,70],[150,68],[160,66],[170,64],[180,65],[180,55],[170,53],[160,50],[150,45],[140,43],[130,43],[120,50],[110,52],[100,50],[90,50],[80,55],[70,55],[60,55],[50,52],[45,48],[40,46],[35,45],[30,46],[28,50],[27,55],[27,60],[27,70]]]}},bn=[{name:"–ú–æ—Å–∫–≤–∞",lat:55.75,lon:37.62},{name:"–°–ü–±",lat:59.93,lon:30.31},{name:"–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫",lat:55.03,lon:82.92},{name:"–ú—É—Ä–º–∞–Ω—Å–∫",lat:68.97,lon:33.09},{name:"–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫",lat:43.12,lon:131.89}],Xe={single:"–û–¥–Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç—å",multi:"–†–∞–∑–Ω—ã–µ –ø–ª–æ—Å–∫–æ—Å—Ç–∏",walker:"Walker Delta",auto:"–ê–≤—Ç–æ–ø–æ–¥–±–æ—Ä"};function jn(e,t,a){for(var n=!1,i=0,l=a.length-1;i<a.length;l=i++){var o=a[i][0],s=a[i][1],d=a[l][0],f=a[l][1];s>e!=f>e&&t<(d-o)*(e-s)/(f-s)+o&&(n=!n)}return n}function kn(e,t,a){var n=ue[a];return n?n.polygons.some(function(i){return jn(e,t,i)}):!1}function mt(e){var t=ue[e];if(!t)return[40,20,80,170];var a=90,n=-90,i=180,l=-180;return t.polygons.forEach(function(o){o.forEach(function(s){a=Math.min(a,s[1]),n=Math.max(n,s[1]),i=Math.min(i,s[0]),l=Math.max(l,s[0])})}),[a-.5,i-.5,n+.5,l+.5]}function bt(e,t,a){var n=a*Math.PI/180,i=Math.sqrt(yn/(e*e*e)),l=e*(1-t*t);return{n:i,T:2*Math.PI/i,dOmega:-1.5*i*Qe*Math.pow(ce/l,2)*Math.cos(n),dw:.75*i*Qe*Math.pow(ce/l,2)*(5*Math.cos(n)*Math.cos(n)-1),inc:n}}function Sn(e){var t=e%360;return t>180&&(t-=360),t<-180&&(t+=360),t}function Mn(e,t,a,n,i,l,o,s,d,f){for(var h=n+s*o,p=i+d*o,g=l+f*o,j=g,M=0;M<8;M++)j=g+t*Math.sin(j);var S=2*Math.atan2(Math.sqrt(1+t)*Math.sin(j/2),Math.sqrt(1-t)*Math.cos(j/2)),y=p+S,m=Math.asin(Math.sin(a)*Math.sin(y));return{lat:m*180/Math.PI,lon:Sn((h+Math.atan2(Math.cos(a)*Math.sin(y),Math.cos(y))-mn*o)*180/Math.PI)}}function Ue(e,t,a,n){var i=function(s){return s*Math.PI/180},l=i(a-e),o=i(n-t);return o>Math.PI&&(o-=2*Math.PI),o<-Math.PI&&(o+=2*Math.PI),2*ce*Math.asin(Math.sqrt(Math.sin(l/2)*Math.sin(l/2)+Math.cos(i(e))*Math.cos(i(a))*Math.sin(o/2)*Math.sin(o/2)))}function On(e,t,a){return t+2*e*Math.tan(a*Math.PI/180)}function wn(e,t,a){var n=[];if(t==="single")for(var i=0;i<e;i++)n.push({raanOffset:0,maOffset:360/e*i});else if(t==="multi")for(var i=0;i<e;i++)n.push({raanOffset:360/e*i,maOffset:0});else if(t==="walker")for(var l=Math.min(a,e),o=Math.ceil(e/l),s=0,d=0;d<l&&s<e;d++)for(var i=0;i<o&&s<e;i++,s++)n.push({raanOffset:360/l*d,maOffset:(360/o*i+360/e*d)%360});return n}function jt(e,t,a,n,i,l,o,s){for(var d=e.altitude,f=e.swath_km,h=e.off_nadir_deg,p=e.e,g=e.i_deg,j=e.raan_deg,M=e.argp_deg,S=e.ma_deg,y=ce+d,m=mt(t),x=bt(y,p,g),E=x.n,O=x.T,b=x.dOmega,v=x.dw,I=x.inc,z=On(d,f,h),k=f/2,C=z/2,L=m[0],R=m[1],K=m[2],G=m[3],D=Math.max(K-L,G-R),H=D>50?2:D>20?1:D>10?.5:.3,T=[],P=L;P<=K;P+=H)for(var J=H/Math.max(.1,Math.cos(P*Math.PI/180)),W=R;W<=G;W+=J)kn(P,W,t)&&T.push({lat:P,lon:W,covered:!1});for(var Z=wn(a,i,l),U=[],fe=D>50?60:D>20?45:30,F=n*86400,w=[],c=0;c<Z.length;c++){if(s&&s.current)return null;for(var A=Z[c],kt=(j+A.raanOffset)*Math.PI/180,St=M*Math.PI/180,Mt=(S+A.maOffset)*Math.PI/180,ne=[],Se=null,he=0;he<=F;he+=fe){var re=Mn(y,p,I,kt,St,Mt,he,b,v,E);w.push({t:he,lat:re.lat,lon:re.lon,satIdx:c}),Se!==null&&Math.abs(re.lon-Se)>180&&(ne.length>1&&U.push({pts:ne,sat:c}),ne=[]),ne.push([re.lat,re.lon]),Se=re.lon}ne.length>1&&U.push({pts:ne,sat:c})}if(s&&s.current)return null;w.sort(function(_,Y){return _.t-Y.t});for(var Me=new Map,ee=[],pe=0,V=null,Oe=0;Oe<w.length;Oe++){if(s&&s.current)return null;for(var N=w[Oe],we=0;we<T.length;we++){var ge=T[we];!ge.covered&&Ue(N.lat,N.lon,ge.lat,ge.lon)<=k&&(ge.covered=!0,pe++)}if(o){var Ie=Ue(N.lat,N.lon,o.lat,o.lon);Ie<=C?V?(V.end=N.t,V.minDist=Math.min(V.minDist,Ie)):V={start:N.t,end:N.t,minDist:Ie,satIdx:N.satIdx}:V&&(ee.push(V),V=null)}var De=Math.floor(N.t/3600);Me.has(De)||Me.set(De,pe)}V&&ee.push(V);var ie=ee.slice(1).map(function(_,Y){return(_.start-ee[Y].start)/3600}),xe=Array.from(Me.entries()).sort(function(_,Y){return _[0]-Y[0]}).map(function(_){return{hour:_[0],coverage:T.length?Math.round(_[1]/T.length*100):0}});(!xe.length||xe[0].hour!==0)&&xe.unshift({hour:0,coverage:0});var _e=Array.from({length:24},function(_,Y){return{hour:Y,count:0}});return ee.forEach(function(_){_e[Math.floor(_.start%86400/3600)].count++}),{segments:U,coverageData:xe,grid:T,accessWidth:z,T:O,finalCoverage:T.length?pe/T.length*100:0,totalArea:T.length,coveredCount:pe,passes:ee,intervals:ie,hourlyDist:_e,configType:i,numPlanes:l,periodStats:ie.length?{min:Math.min.apply(null,ie),max:Math.max.apply(null,ie),avg:ie.reduce(function(_,Y){return _+Y},0)/ie.length,count:ee.length}:null}}function In(e,t,a,n,i,l,o){var s=["single","multi"];if(a>=2)for(var d=2;d<=Math.min(a,4);d++)s.push("walker_"+d);for(var f=null,h=l==="coverage"?-1:1/0,p=0;p<s.length;p++){if(o&&o.current)return null;var g=s[p],j=g.indexOf("walker")===0,M=j?"walker":g,S=j?parseInt(g.split("_")[1]):a,y=jt(e,t,a,n,M,S,i,o);if(!y)return null;var m=l==="coverage"?y.finalCoverage:y.periodStats?y.periodStats.avg:1/0;(l==="coverage"&&m>h||l!=="coverage"&&m<h)&&(h=m,f=y)}return f}var Ce=["#f59e0b","#22c55e","#3b82f6","#a855f7","#ef4444","#06b6d4"];function zn(e){var t=e.segments,a=e.region,n=e.targetPoint,i=e.accessWidth,l=e.swathKm,o=mt(a),s=o[0],d=o[1],f=o[2],h=o[3],p=480,g=260,j=(f+s)/2,M=p/(h-d),S=111*Math.cos(j*Math.PI/180),y=i/S*M,m=l/S*M,x=function(b,v){return{x:(v-d)/(h-d)*p,y:(f-b)/(f-s)*g}},E=ue[a],O=E?E.polygons.map(function(b){return b.map(function(v){var I=x(v[1],v[0]);return I.x+","+I.y}).join(" ")}):[];return r.jsxs("svg",{viewBox:"0 0 "+p+" "+g,style:{width:"100%",borderRadius:8,background:"#e8edf3"},children:[r.jsx("defs",{children:r.jsx("clipPath",{id:"rc",children:O.map(function(b,v){return r.jsx("polygon",{points:b},v)})})}),r.jsx("rect",{width:p,height:g,fill:"#e8edf3"}),O.map(function(b,v){return r.jsx("polygon",{points:b,fill:"#0077cc",fillOpacity:"0.2",stroke:"#3b82f6",strokeWidth:"1.5"},v)}),r.jsxs("g",{clipPath:"url(#rc)",children:[t.map(function(b,v){return r.jsx("polyline",{points:b.pts.map(function(I){var z=x(I[0],I[1]);return z.x+","+z.y}).join(" "),fill:"none",stroke:"#3b82f6",strokeWidth:Math.max(y,4),opacity:"0.15",strokeLinecap:"round"},"a"+v)}),t.map(function(b,v){return r.jsx("polyline",{points:b.pts.map(function(I){var z=x(I[0],I[1]);return z.x+","+z.y}).join(" "),fill:"none",stroke:"#22c55e",strokeWidth:Math.max(m,2),opacity:"0.5",strokeLinecap:"round"},"s"+v)})]}),t.map(function(b,v){return r.jsx("polyline",{points:b.pts.filter(function(I){var z=x(I[0],I[1]);return z.x>=-50&&z.x<=p+50&&z.y>=-50&&z.y<=g+50}).map(function(I){var z=x(I[0],I[1]);return z.x+","+z.y}).join(" "),fill:"none",stroke:Ce[b.sat%6],strokeWidth:"1",opacity:"0.9"},v)}),O.map(function(b,v){return r.jsx("polygon",{points:b,fill:"none",stroke:"#3b82f6",strokeWidth:"1.5"},"b"+v)}),n&&(function(){var b=x(n.lat,n.lon);return r.jsxs(r.Fragment,{children:[r.jsx("circle",{cx:b.x,cy:b.y,r:"8",fill:"#ef4444",opacity:"0.3"}),r.jsx("circle",{cx:b.x,cy:b.y,r:"4",fill:"#ef4444"})]})})(),r.jsx("text",{x:"8",y:"16",fill:"#8892a4",fontSize:"10",children:E?E.name:""})]})}var An=function(e){var t=Math.floor(e/86400),a=Math.floor(e%86400/3600),n=Math.floor(e%3600/60);return t>0?t+"–¥ "+a+"—á":a+"—á "+n+"–º"};function $(e){var t=e.label,a=e.value,n=e.onChange,i=u.useState(String(a)),l=i[0],o=i[1],s=function(){var d=parseFloat(l);isNaN(d)?o(String(a)):n(d)};return wt.useEffect(function(){o(String(a))},[a]),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[r.jsx("span",{style:{fontSize:11,color:"#8892a4",width:80,flexShrink:0},children:t}),r.jsx("input",{value:l,onChange:function(d){o(d.target.value)},onBlur:s,onKeyDown:function(d){d.key==="Enter"&&s()},style:{flex:1,background:"#f8f9fb",border:"1px solid #e0e4ea",borderRadius:4,padding:"4px 8px",fontSize:13,color:"#1a1f2e",minWidth:0}})]})}function Pn(){var e=u.useState({altitude:500,swath_km:100,off_nadir_deg:30,e:.001,i_deg:97.4,raan_deg:0,argp_deg:0,ma_deg:0}),t=e[0],a=e[1],n=u.useState("moscow_obl"),i=n[0],l=n[1],o=u.useState(3),s=o[0],d=o[1],f=u.useState(3),h=f[0],p=f[1],g=u.useState(3),j=g[0],M=g[1],S=u.useState("auto"),y=S[0],m=S[1],x=u.useState("coverage"),E=x[0],O=x[1],b=u.useState({lat:55.75,lon:37.62}),v=b[0],I=b[1],z=u.useState(null),k=z[0],C=z[1],L=u.useState(!1),R=L[0],K=L[1],G=u.useState(!1),D=G[0],H=G[1],T=u.useState("coverage"),P=T[0],J=T[1],W=u.useRef(!1),Z=u.useMemo(function(){return bt(ce+t.altitude,t.e,t.i_deg)},[t.altitude,t.e,t.i_deg]),U=u.useCallback(function(){W.current=!1,K(!0),setTimeout(function(){var c=P==="point"?v:null,A=y==="auto"?In(t,i,s,j,c,E,W):jt(t,i,s,j,y,h,c,W);A&&C(A),K(!1)},10)},[t,i,s,j,y,h,v,P,E]),fe=k?k.configType==="single"?"–û–¥–Ω–∞ –ø–ª–æ—Å–∫.":k.configType==="multi"?"–†–∞–∑–Ω—ã–µ –ø–ª–æ—Å–∫.":"Walker "+k.numPlanes+"P":"";function F(c){return r.jsxs("div",{style:{padding:"4px 8px",borderRadius:4,background:c.hl?"#fef5e0":"#f8f9fb",border:c.hl?"1px solid #d68a00":"1px solid #e0e4ea"},children:[r.jsx("div",{style:{fontSize:11,color:"#8892a4"},children:c.label}),r.jsxs("div",{style:{fontSize:13,fontWeight:600,color:c.hl?"#d68a00":"#1a1f2e"},children:[c.value,r.jsx("span",{style:{fontSize:11,fontWeight:400,color:"#5a6478",marginLeft:4},children:c.unit})]})]})}var w={root:{color:"#1a1f2e",padding:8,fontSize:13,minHeight:"80vh"},max:{maxWidth:900,margin:"0 auto"},hdr:{display:"flex",alignItems:"center",gap:8,marginBottom:8},icon:{width:28,height:28,borderRadius:4,background:"linear-gradient(135deg,#f59e0b,#ea580c)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:14},grid:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:8},panel:{background:"#ffffff",border:"1px solid #e0e4ea",borderRadius:8,padding:8},label:{fontSize:11,fontWeight:600,color:"#5a6478",textTransform:"uppercase",marginBottom:6},sel:{width:"100%",background:"#f8f9fb",border:"1px solid #e0e4ea",borderRadius:4,padding:"4px 8px",fontSize:13,color:"#1a1f2e"},btn:{padding:"6px 12px",borderRadius:4,fontWeight:500,fontSize:12,cursor:"pointer",border:"none"},statsGrid:{display:"grid",gap:6}};return r.jsx("div",{style:w.root,children:r.jsxs("div",{style:w.max,children:[r.jsxs("div",{style:w.hdr,children:[r.jsx("div",{style:w.icon,children:"üõ∞"}),r.jsx("h1",{style:{fontSize:14,fontWeight:700},children:"–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Å—ä—ë–º–∫–∏ –î–ó–ó"})]}),r.jsxs("div",{style:w.grid,children:[r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[r.jsxs("div",{style:w.panel,children:[r.jsx("div",{style:w.label,children:"–ö–ê"}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[r.jsx($,{label:"–í—ã—Å–æ—Ç–∞, –∫–º",value:t.altitude,onChange:function(c){a(function(A){return Object.assign({},A,{altitude:c})})}}),r.jsx($,{label:"–ü–æ–ª–æ—Å–∞, –∫–º",value:t.swath_km,onChange:function(c){a(function(A){return Object.assign({},A,{swath_km:c})})}}),r.jsx($,{label:"–û—Ç–∫–ª., ¬∞",value:t.off_nadir_deg,onChange:function(c){a(function(A){return Object.assign({},A,{off_nadir_deg:Math.min(45,Math.max(0,c))})})}}),r.jsx($,{label:"–ö–æ–ª-–≤–æ –ö–ê",value:s,onChange:function(c){d(Math.min(12,Math.max(1,c))),p(Math.min(h,c))}}),D&&r.jsxs(r.Fragment,{children:[r.jsx($,{label:"–≠–∫—Å—Ü–µ–Ω—Ç—Ä.",value:t.e,onChange:function(c){a(function(A){return Object.assign({},A,{e:c})})}}),r.jsx($,{label:"–ù–∞–∫–ª–æ–Ω., ¬∞",value:t.i_deg,onChange:function(c){a(function(A){return Object.assign({},A,{i_deg:c})})}})]}),r.jsxs("button",{onClick:function(){H(!D)},style:{background:"none",border:"none",color:"#f59e0b",fontSize:12,cursor:"pointer",textAlign:"left",padding:0},children:[D?"‚ñ≤":"‚ñº"," –ï—â—ë"]})]})]}),r.jsxs("div",{style:w.panel,children:[r.jsx("div",{style:w.label,children:"–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è"}),r.jsx("select",{value:y,onChange:function(c){m(c.target.value)},style:w.sel,children:Object.keys(Xe).map(function(c){return r.jsx("option",{value:c,children:Xe[c]},c)})}),y==="walker"&&r.jsx("div",{style:{marginTop:6},children:r.jsx($,{label:"–ü–ª–æ—Å–∫–æ—Å—Ç–µ–π",value:h,onChange:function(c){p(Math.min(s,Math.max(1,c)))}})}),y==="auto"&&r.jsxs("select",{value:E,onChange:function(c){O(c.target.value)},style:{...w.sel,marginTop:6},children:[r.jsx("option",{value:"coverage",children:"–ú–∞–∫—Å. –ø–æ–∫—Ä—ã—Ç–∏–µ"}),r.jsx("option",{value:"revisit",children:"–ú–∏–Ω. –∏–Ω—Ç–µ—Ä–≤–∞–ª"})]})]}),r.jsxs("div",{style:w.panel,children:[r.jsx("div",{style:w.label,children:"–¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è"}),r.jsx("select",{value:i,onChange:function(c){l(c.target.value)},style:w.sel,children:Object.keys(ue).map(function(c){return r.jsx("option",{value:c,children:ue[c].name},c)})}),r.jsx("div",{style:{marginTop:6},children:r.jsx($,{label:"–ü–µ—Ä–∏–æ–¥, —Å—É—Ç",value:j,onChange:function(c){M(Math.min(30,Math.max(1,c)))}})})]}),r.jsxs("div",{style:w.panel,children:[r.jsxs("div",{style:{display:"flex",gap:4},children:[r.jsx("button",{onClick:function(){J("coverage")},style:{...w.btn,flex:1,background:P==="coverage"?"#0077cc":"#f8f9fb",color:P==="coverage"?"#ffffff":"#1a1f2e"},children:"–ü–æ–∫—Ä—ã—Ç–∏–µ"}),r.jsx("button",{onClick:function(){J("point")},style:{...w.btn,flex:1,background:P==="point"?"#0077cc":"#f8f9fb",color:P==="point"?"#ffffff":"#1a1f2e"},children:"–¢–æ—á–∫–∞"})]}),P==="point"&&r.jsxs("div",{style:{marginTop:6},children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:4},children:[r.jsx($,{label:"–®–∏—Ä.",value:v.lat,onChange:function(c){I(function(A){return Object.assign({},A,{lat:c})})}}),r.jsx($,{label:"–î–æ–ª–≥.",value:v.lon,onChange:function(c){I(function(A){return Object.assign({},A,{lon:c})})}})]}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:4,marginTop:4},children:bn.map(function(c){return r.jsx("button",{onClick:function(){I({lat:c.lat,lon:c.lon})},style:{...w.btn,background:"#f0f4ff",color:"#1a1f2e",padding:"2px 6px",fontSize:11},children:c.name},c.name)})})]}),r.jsxs("div",{style:{display:"flex",gap:4,marginTop:6},children:[r.jsx("button",{onClick:U,disabled:R,style:{...w.btn,flex:1,background:"#0077cc",color:"#ffffff",opacity:R?.5:1},children:R?"–†–∞—Å—á—ë—Ç...":"üöÄ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å"}),R&&r.jsx("button",{onClick:function(){W.current=!0},style:{...w.btn,background:"#dc2626",color:"white",padding:"6px 12px"},children:"‚úï"})]})]}),r.jsx("div",{style:w.panel,children:r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2px 8px",fontSize:12},children:[r.jsx("span",{style:{color:"#5a6478"},children:"–ü–µ—Ä–∏–æ–¥"}),r.jsxs("span",{style:{textAlign:"right"},children:[(Z.T/60).toFixed(1)," –º–∏–Ω"]}),r.jsx("span",{style:{color:"#5a6478"},children:"–í–∏—Ç–∫–æ–≤/—Å—É—Ç"}),r.jsx("span",{style:{textAlign:"right"},children:(86400/Z.T).toFixed(1)}),r.jsx("span",{style:{color:"#5a6478"},children:"–ü—Ä–µ—Ü–µ—Å—Å–∏—è"}),r.jsxs("span",{style:{textAlign:"right"},children:[(Z.dOmega*180/Math.PI*86400).toFixed(2),"¬∞/—Å—É—Ç"]})]})})]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:k?r.jsxs(r.Fragment,{children:[r.jsx("div",{style:{...w.statsGrid,gridTemplateColumns:P==="coverage"?"1fr 1fr 1fr 1fr":"1fr 1fr 1fr 1fr 1fr"},children:P==="coverage"?r.jsxs(r.Fragment,{children:[r.jsx(F,{label:"–ü–æ–∫—Ä—ã—Ç–∏–µ",value:k.finalCoverage.toFixed(1),unit:"%",hl:!0}),r.jsx(F,{label:"–Ø—á–µ–µ–∫",value:k.coveredCount+"/"+k.totalArea,unit:""}),r.jsx(F,{label:"–ö–æ–Ω—Ñ–∏–≥.",value:fe,unit:""}),r.jsx(F,{label:"–ó–æ–Ω–∞ –¥–æ—Å—Ç.",value:k.accessWidth.toFixed(0),unit:"–∫–º"})]}):r.jsxs(r.Fragment,{children:[r.jsx(F,{label:"–ü—Ä–æ—Ö–æ–¥–æ–≤",value:k.periodStats?k.periodStats.count:0,unit:"",hl:!0}),r.jsx(F,{label:"–°—Ä–µ–¥.",value:k.periodStats?k.periodStats.avg.toFixed(1):"‚Äî",unit:"—á",hl:!0}),r.jsx(F,{label:"–ú–∏–Ω.",value:k.periodStats?k.periodStats.min.toFixed(1):"‚Äî",unit:"—á"}),r.jsx(F,{label:"–ú–∞–∫—Å.",value:k.periodStats?k.periodStats.max.toFixed(1):"‚Äî",unit:"—á"}),r.jsx(F,{label:"–ö–æ–Ω—Ñ–∏–≥.",value:fe,unit:""})]})}),r.jsxs("div",{style:w.panel,children:[r.jsx(zn,{segments:k.segments,region:i,targetPoint:P==="point"?v:null,accessWidth:k.accessWidth,swathKm:t.swath_km}),r.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginTop:6,fontSize:11},children:[Array.from({length:s},function(c,A){return r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[r.jsx("div",{style:{width:8,height:8,borderRadius:"50%",backgroundColor:Ce[A%6]}}),"–ö–ê-",A+1]},A)}),";",r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[r.jsx("div",{style:{width:12,height:4,borderRadius:2,background:"#22c55e",opacity:.6}}),"–ü–æ–ª–æ—Å–∞"]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[r.jsx("div",{style:{width:12,height:4,borderRadius:2,background:"#3b82f6",opacity:.3}}),"–ó–æ–Ω–∞"]})]})]}),P==="coverage"?r.jsxs("div",{style:w.panel,children:[r.jsx("div",{style:{fontSize:11,color:"#5a6478",marginBottom:4},children:"–î–∏–Ω–∞–º–∏–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è"}),r.jsx(We,{width:"100%",height:100,children:r.jsxs(gn,{data:k.coverageData,children:[r.jsx(Fe,{strokeDasharray:"3 3",stroke:"#e0e4ea"}),r.jsx(Re,{dataKey:"hour",stroke:"#8892a4",fontSize:9,tickFormatter:function(c){return c%24===0?c/24+"–¥":""}}),r.jsx(Ve,{stroke:"#8892a4",fontSize:9,domain:[0,100],tickFormatter:function(c){return c+"%"}}),r.jsx($e,{contentStyle:{background:"#ffffff",border:"1px solid #e0e4ea",borderRadius:4,fontSize:10},formatter:function(c){return[c+"%"]},labelFormatter:function(c){return Math.floor(c/24)+"–¥ "+c%24+"—á"}}),r.jsx(Ot,{type:"monotone",dataKey:"coverage",stroke:"#f59e0b",strokeWidth:2,dot:!1})]})})]}):r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[r.jsxs("div",{style:w.panel,children:[r.jsx("div",{style:{fontSize:11,color:"#5a6478",marginBottom:4},children:"–ü–æ —á–∞—Å–∞–º UTC"}),r.jsx(We,{width:"100%",height:90,children:r.jsxs(vn,{data:k.hourlyDist,children:[r.jsx(Fe,{strokeDasharray:"3 3",stroke:"#e0e4ea"}),r.jsx(Re,{dataKey:"hour",stroke:"#8892a4",fontSize:8,interval:3}),r.jsx(Ve,{stroke:"#8892a4",fontSize:8,allowDecimals:!1}),r.jsx($e,{contentStyle:{background:"#ffffff",border:"1px solid #e0e4ea",fontSize:10},formatter:function(c){return[c,"–ü—Ä–æ—Ö."]},labelFormatter:function(c){return c+":00"}}),r.jsx(yt,{dataKey:"count",fill:"#22c55e",radius:[2,2,0,0]})]})})]}),r.jsxs("div",{style:{...w.panel,maxHeight:130,overflowY:"auto"},children:[r.jsx("div",{style:{fontSize:11,color:"#5a6478",marginBottom:4},children:"–ü—Ä–æ—Ö–æ–¥—ã"}),r.jsxs("table",{style:{width:"100%",fontSize:11},children:[r.jsx("thead",{style:{color:"#5a6478"},children:r.jsxs("tr",{children:[r.jsx("th",{style:{textAlign:"left"},children:"#"}),r.jsx("th",{style:{textAlign:"left"},children:"–í—Ä–µ–º—è"}),r.jsx("th",{style:{textAlign:"left"},children:"–ö–ê"}),r.jsx("th",{style:{textAlign:"left"},children:"–ò–Ω—Ç."})]})}),r.jsx("tbody",{children:k.passes.slice(0,20).map(function(c,A){return r.jsxs("tr",{style:{borderTop:"1px solid #e0e4ea"},children:[r.jsx("td",{children:A+1}),r.jsx("td",{children:An(c.start)}),r.jsxs("td",{children:[r.jsx("span",{style:{display:"inline-block",width:6,height:6,borderRadius:"50%",marginRight:4,backgroundColor:Ce[c.satIdx%6]}}),c.satIdx+1]}),r.jsx("td",{children:A>0?k.intervals[A-1].toFixed(1)+"—á":"‚Äî"})]},A)})})]})]})]})]}):r.jsxs("div",{style:{...w.panel,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:64,paddingBottom:64},children:[r.jsx("div",{style:{fontSize:24,marginBottom:8},children:"üõ∞Ô∏è"}),r.jsx("p",{style:{color:"#5a6478",fontSize:12},children:"–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–†–∞—Å—Å—á–∏—Ç–∞—Ç—å¬ª"})]})})]})]})})}export{Pn as default};
